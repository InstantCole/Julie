
<script>

window.onload = function() {
console.log('loaded the fade-text js.');

  // 1. Select the target element to observe
const blurbTitles = document.querySelector("#blurb-1");


console.log('targetElement is loaded and = ' + blurbTitles);





// 2. Define the options for the observer
const options = {
  root: null, // The root is the viewport (default)
  rootMargin: '0px', // No margin around the root
  threshold: 0.1 // Callback executes when 10% of the element is visible
};

console.log('checkpoint 1.');

// 3. Define the callback function that runs when visibility changes
const callback = (entries, observer) => {
  entries.forEach(entry => {
    // Check if the element is intersecting with the viewport
    if (entry.isIntersecting) {
      console.log('Content is now visible!', entry);
      console.log('Content list!', entries);
      entry.target.className += " is-visible";
      
      // Optional: Stop observing the element after the first time it becomes visible
      observer.unobserve(entry.target); 
    }
  });
  
};

// 4. Create the IntersectionObserver instance
const observer = new IntersectionObserver(callback, options);

// 5. Start observing the target element
if (blurbTitles) {
  observer.observe(blurbTitles);
}

}

</script>
